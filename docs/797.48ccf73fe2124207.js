"use strict";(self.webpackChunkmeanstacktemplate=self.webpackChunkmeanstacktemplate||[]).push([[797],{8797:(Bt,Y,n)=>{n.r(Y),n.d(Y,{TaskModule:()=>Ft});var c=n(3075),I=n(9764),Z=n(9283),u=n(9808),p=n(1739),Q=n(3975),d=n(6157),x=n(9192),q=n(8675),E=n(4004),S=n(7399),A=n(1079),f=(()=>{return(e=f||(f={})).toDo="toDo",e.progress="progress",e.done="done",f;var e})(),t=n(5542),L=n(2313),D=n(3877),R=n(2686),G=n(6546),w=n(7261),U=n(6250),H=n(508),N=n(7423),$=n(9224),b=n(6856),h=n(7322),F=n(5245),J=n(7531);const z=["category"];function K(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," You must fill a text that exceeds 5 characters. "),t.qZA())}function P(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," You must fill a text that doesn't exceeds 150 characters. "),t.qZA())}function j(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," You must fill a text that exceeds 5 characters. "),t.qZA())}function X(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," You must fill a text that doesn't exceeds 300 characters. "),t.qZA())}function W(e,s){if(1&e&&(t.TgZ(0,"mat-option",22),t._uU(1),t.qZA()),2&e){const i=s.$implicit;t.Q6J("value",i.title),t.xp6(1),t.hij(" ",i.title," ")}}let O=(()=>{class e{constructor(i,a,o,l,r){this.bottomSheet=i,this.router=a,this.route=o,this.titleService=l,this.translateService=r,this.open()}open(){this.route.params.subscribe(i=>{this.bottomSheet.open(V,{data:i.id?i.id:null}).afterDismissed().subscribe(()=>{this.translateService.get("title.tasks").subscribe(r=>{this.titleService.setTitle(`${r} \u2014 Mean Stack Template`)}),this.router.navigate(["/tasks"])})})}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(S.ch),t.Y36(d.F0),t.Y36(d.gz),t.Y36(L.Dx),t.Y36(p.sK))},e.\u0275cmp=t.Xpm({type:e,selectors:[["ng-component"]],decls:0,vars:0,template:function(i,a){},encapsulation:2,changeDetection:0}),e})(),V=(()=>{class e{constructor(i,a,o,l,r,m,g,v,T,C,Jt,Ot){this.changeDetector=i,this.taskService=a,this.categoriesService=o,this.authService=l,this.formBuilder=r,this.snackBar=m,this.bottomSheetRef=g,this.router=v,this.titleService=T,this.translateService=C,this.utilService=Jt,this.id=Ot,this.isSaving=!1,this.form=this.formBuilder.group({title:[null,[c.kI.required,c.kI.minLength(1),c.kI.maxLength(150)]],description:[null,[c.kI.minLength(5),c.kI.maxLength(300)]],date:[null,null],category:[null,null]})}ngOnInit(){this.utilService.inputErrorListener.subscribe(()=>this.changeDetector.detectChanges()),this.categoriesService.listCategories().subscribe(i=>{this.categories=i.data,this.setAutoCompletes()}),this.id?this.taskService.getTask(this.id).subscribe(i=>{this.form.patchValue(i.data[0]),this.changeDetector.markForCheck(),this.translateService.get("title.edit-task").subscribe(a=>{this.title=a,this.titleService.setTitle(`${this.title} \u2014 Mean Stack Template`)})}):this.translateService.get("title.add-task").subscribe(i=>{this.title=i,this.titleService.setTitle(`${this.title} \u2014 Mean Stack Template`)})}ngAfterViewInit(){this.categoryTrigger.panelClosingActions.subscribe(()=>{this.categoryTrigger.activeOption&&(console.log(this.categoryTrigger.activeOption.value),this.form.controls.category.setValue(this.categoryTrigger.activeOption.value))})}_filterCategories(i){const a=null==i?void 0:i.toString().toLowerCase();return this.categories.filter(o=>o.title.toLowerCase().includes(a))}refresh(){this.changeDetector.detectChanges(),this.bottomSheetRef.dismiss()}save(){if(!this.utilService.isValidForm(this.form))return;const i=Object.assign(Object.assign({},this.form.value),{userId:this.authService.getUserId()});this.id?(i._id=this.id,this.taskService.updateTask(i).subscribe({next:()=>{this.translateService.get("task-form.edit-success").subscribe(a=>this.snackBar.open(a,void 0,{duration:5e3})),this.form.reset(),this.taskService.emitTask.emit(),this.close()},error:()=>this.translateService.get("task-form.edit-error").subscribe(a=>this.snackBar.open(a,void 0,{duration:8e3}))})):(i.status=f.toDo,this.taskService.createTask(i).subscribe({next:()=>{this.translateService.get("task-form.create-success").subscribe(a=>this.snackBar.open(a,void 0,{duration:5e3})),this.taskService.emitTask.emit(i),this.form.reset(),this.close()},error:()=>this.translateService.get("task-form.create-error").subscribe(a=>this.snackBar.open(a,void 0,{duration:8e3}))}))}close(){this.bottomSheetRef.dismiss(),this.form.reset(),this.router.navigate([`${this.router.url.split(/\/(add|edit)\/?/gi)[0]}/`])}setAutoCompletes(){this.categoriesFilteredOptions=this.form.controls.category.valueChanges.pipe((0,q.O)(""),(0,E.U)(i=>this._filterCategories(i)))}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(t.sBO),t.Y36(D.M),t.Y36(R.H),t.Y36(G.e),t.Y36(c.qu),t.Y36(w.ux),t.Y36(S.oL),t.Y36(d.F0),t.Y36(L.Dx),t.Y36(p.sK),t.Y36(U.f),t.Y36(S.OG))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-task-form"]],viewQuery:function(i,a){if(1&i&&t.Gf(z,5,A.ZL),2&i){let o;t.iGM(o=t.CRH())&&(a.categoryTrigger=o.first)}},decls:47,vars:26,consts:[[1,"form-modal"],[1,"form-modal__header"],[1,"form-modal__header-wrapper"],["mat-fab","","color","primary",3,"click"],[1,"form-modal__header-title"],[1,"form-header"],[1,"form-modal__body"],[1,"form-modal__body-wrapper",3,"formGroup"],[1,"full-width"],["type","text","maxlength","150","formControlName","title","matInput","",3,"placeholder"],["taskTitle",""],["align","end"],[4,"ngIf"],["maxlength","300","formControlName","description","rows","2","matInput","",3,"placeholder"],["taskDescription",""],["formControlName","date","matInput","",3,"matDatepicker","focus"],["matSuffix","",3,"for"],["picker",""],["type","text","formControlName","category","matInput","",3,"placeholder","matAutocomplete"],["category",""],["categoriesAutocomplete","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(i,a){if(1&i){const o=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),t.NdJ("click",function(){return a.close()}),t.TgZ(4,"mat-icon"),t._uU(5,"close"),t.qZA()(),t.TgZ(6,"h2",4),t._uU(7),t.qZA(),t.TgZ(8,"div",5)(9,"button",3),t.NdJ("click",function(){return a.save()}),t.TgZ(10,"mat-icon"),t._uU(11,"check"),t.qZA()()()()(),t.TgZ(12,"div",6)(13,"form",7)(14,"mat-card-content")(15,"mat-form-field",8),t._UZ(16,"input",9,10),t.ALo(18,"translate"),t.TgZ(19,"mat-hint",11),t._uU(20),t.qZA(),t.YNc(21,K,2,0,"mat-error",12),t.YNc(22,P,2,0,"mat-error",12),t.qZA(),t.TgZ(23,"mat-form-field",8),t._UZ(24,"textarea",13,14),t.ALo(26,"translate"),t.TgZ(27,"mat-hint",11),t._uU(28),t.qZA(),t.YNc(29,j,2,0,"mat-error",12),t.YNc(30,X,2,0,"mat-error",12),t.qZA(),t.TgZ(31,"mat-form-field",8)(32,"mat-label"),t._uU(33),t.ALo(34,"translate"),t.qZA(),t.TgZ(35,"input",15),t.NdJ("focus",function(){t.CHM(o);const r=t.MAs(38);return t.KtG(r.open())}),t.qZA(),t._UZ(36,"mat-datepicker-toggle",16)(37,"mat-datepicker",null,17),t.qZA(),t.TgZ(39,"mat-form-field",8),t._UZ(40,"input",18,19),t.ALo(42,"translate"),t.TgZ(43,"mat-autocomplete",null,20),t.YNc(45,W,2,2,"mat-option",21),t.ALo(46,"async"),t.qZA()()()()()()}if(2&i){const o=t.MAs(17),l=t.MAs(25),r=t.MAs(38),m=t.MAs(44);let g,v,T,C;t.xp6(7),t.Oqu(a.title),t.xp6(6),t.Q6J("formGroup",a.form),t.xp6(3),t.s9C("placeholder",t.lcZ(18,16,"input.title")),t.xp6(4),t.hij("",(null==o.value?null:o.value.length)||0,"/150"),t.xp6(1),t.Q6J("ngIf",null==(g=a.form.get("title"))?null:g.hasError("minlength")),t.xp6(1),t.Q6J("ngIf",null==(v=a.form.get("title"))?null:v.hasError("maxlength")),t.xp6(2),t.s9C("placeholder",t.lcZ(26,18,"input.description")),t.xp6(4),t.hij("",(null==l.value?null:l.value.length)||0,"/300"),t.xp6(1),t.Q6J("ngIf",null==(T=a.form.get("description"))?null:T.hasError("minlength")),t.xp6(1),t.Q6J("ngIf",null==(C=a.form.get("description"))?null:C.hasError("maxlength")),t.xp6(3),t.Oqu(t.lcZ(34,20,"input.choose-due-date")),t.xp6(2),t.Q6J("matDatepicker",r),t.xp6(1),t.Q6J("for",r),t.xp6(4),t.s9C("placeholder",t.lcZ(42,22,"input.category")),t.Q6J("matAutocomplete",m),t.xp6(5),t.Q6J("ngForOf",t.lcZ(46,24,a.categoriesFilteredOptions))}},dependencies:[u.sg,u.O5,c._Y,c.Fj,c.JJ,c.JL,c.nD,c.sg,c.u,A.XC,A.ZL,H.ey,N.lW,$.dn,b.Mq,b.hl,b.nW,h.TO,h.KE,h.bx,h.hX,h.R9,F.Hw,J.Nt,u.Ov,p.X$],changeDetection:0}),e})();var B=n(6087),y=n(4847),tt=n(3270),M=n(7093),k=n(2181),et=n(773),_=n(8279),it=n(7238),at=n(393);let st=(()=>{class e{constructor(i){this.translateService=i}transform(i,a="mediumDate"){return new u.uU(this.translateService.currentLang).transform(i,a)}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(p.sK,16))},e.\u0275pipe=t.Yjl({name:"convertDate",type:e,pure:!1}),e})();const ot=["searchInput"];function nt(e,s){1&e&&(t.TgZ(0,"div",19),t._UZ(1,"mat-spinner",20),t.qZA())}function rt(e,s){1&e&&(t.TgZ(0,"div",21)(1,"div")(2,"mat-icon",22),t._uU(3,"sms"),t.qZA()(),t.TgZ(4,"div"),t._uU(5),t.ALo(6,"translate"),t.qZA()()),2&e&&(t.xp6(5),t.Oqu(t.lcZ(6,1,"task-list.empty")))}function lt(e,s){1&e&&(t.TgZ(0,"div",21)(1,"div")(2,"mat-icon",22),t._uU(3,"sms"),t.qZA()(),t.TgZ(4,"div"),t._uU(5),t.ALo(6,"translate"),t.qZA()()),2&e&&(t.xp6(5),t.Oqu(t.lcZ(6,1,"task-list.empty-search")))}function ct(e,s){1&e&&(t.TgZ(0,"mat-cell",40)(1,"h3",41),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"table.date")))}function mt(e,s){if(1&e&&(t.TgZ(0,"mat-cell",42)(1,"h2"),t._uU(2),t.ALo(3,"convertDate"),t.TgZ(4,"p"),t._uU(5),t.ALo(6,"convertDate"),t.qZA()()()),2&e){const i=s.$implicit;t.xp6(2),t.hij(" ",t.xi3(3,2,i.date,"EEEE")," "),t.xp6(3),t.Oqu(t.xi3(6,5,i.date,"shortDate"))}}function ut(e,s){1&e&&(t.TgZ(0,"mat-cell",40)(1,"h3",41),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"table.title")))}function _t(e,s){if(1&e&&(t.TgZ(0,"mat-cell",43),t._uU(1),t.qZA()),2&e){const i=s.$implicit;t.xp6(1),t.Oqu(i.title)}}function pt(e,s){1&e&&(t.TgZ(0,"mat-cell",40)(1,"h3",41),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"table.description")))}function dt(e,s){if(1&e&&(t.TgZ(0,"mat-cell",43),t._uU(1),t.qZA()),2&e){const i=s.$implicit;t.xp6(1),t.Oqu(i.description)}}function ht(e,s){1&e&&(t.TgZ(0,"mat-cell",40)(1,"h3",41),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"table.status")))}function gt(e,s){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"table.to-do")))}function vt(e,s){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"table.to-do")))}function ft(e,s){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"table.in-progress")))}function kt(e,s){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"table.done")))}function Tt(e,s){if(1&e&&(t.TgZ(0,"mat-cell",43)(1,"div",44),t.YNc(2,gt,3,3,"div",45),t.YNc(3,vt,3,3,"div",46),t.YNc(4,ft,3,3,"div",46),t.YNc(5,kt,3,3,"div",46),t.qZA()()),2&e){const i=s.$implicit;t.xp6(1),t.Q6J("ngSwitch",i.status),t.xp6(2),t.Q6J("ngSwitchCase","toDo"),t.xp6(1),t.Q6J("ngSwitchCase","progress"),t.xp6(1),t.Q6J("ngSwitchCase","done")}}function Ct(e,s){1&e&&(t.TgZ(0,"mat-cell",40)(1,"h3",41),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"table.category")))}function Zt(e,s){if(1&e&&(t.TgZ(0,"mat-cell",43),t._uU(1),t.qZA()),2&e){const i=s.$implicit;t.xp6(1),t.Oqu(i.category)}}function xt(e,s){1&e&&t._UZ(0,"mat-cell",47)}function St(e,s){if(1&e){const i=t.EpF();t.TgZ(0,"mat-cell",43)(1,"button",48),t.NdJ("click",function(o){const r=t.CHM(i).$implicit,m=t.oxw(3);return m.changeStatus(r,m.status.progress),t.KtG(o.stopPropagation())}),t.ALo(2,"translate"),t.TgZ(3,"mat-icon"),t._uU(4,"360 icon"),t.qZA()(),t.TgZ(5,"button",48),t.NdJ("click",function(o){const r=t.CHM(i).$implicit,m=t.oxw(3);return m.changeStatus(r,m.status.done),t.KtG(o.stopPropagation())}),t.ALo(6,"translate"),t.TgZ(7,"mat-icon"),t._uU(8,"check"),t.qZA()(),t.TgZ(9,"button",48),t.NdJ("click",function(o){const r=t.CHM(i).$implicit;return t.oxw(3).delete(r),t.KtG(o.stopPropagation())}),t.ALo(10,"translate"),t.TgZ(11,"mat-icon"),t._uU(12,"delete"),t.qZA()()()}2&e&&(t.xp6(1),t.s9C("matTooltip",t.lcZ(2,3,"table.actions.progress")),t.xp6(4),t.s9C("matTooltip",t.lcZ(6,5,"table.actions.done")),t.xp6(4),t.s9C("matTooltip",t.lcZ(10,7,"table.actions.remove")))}function At(e,s){1&e&&t._UZ(0,"mat-cell",47)}function Lt(e,s){if(1&e){const i=t.EpF();t.TgZ(0,"button",52),t.NdJ("click",function(o){t.CHM(i);const l=t.oxw().$implicit;return t.oxw(3).delete(l),t.KtG(o.stopPropagation())}),t.TgZ(1,"span"),t._uU(2,"Remove"),t.qZA()()}}function bt(e,s){if(1&e&&(t.TgZ(0,"mat-cell",43)(1,"button",49),t.NdJ("click",function(a){return a.stopPropagation(),a.preventDefault()}),t.TgZ(2,"mat-icon"),t._uU(3,"more_vert"),t.qZA()(),t.TgZ(4,"mat-menu",null,50),t.YNc(6,Lt,3,0,"ng-template",51),t.qZA()()),2&e){const i=t.MAs(5);t.xp6(1),t.Q6J("matMenuTriggerFor",i)}}function yt(e,s){1&e&&t._UZ(0,"mat-header-row",53)}function Yt(e,s){if(1&e){const i=t.EpF();t.TgZ(0,"mat-row",54),t.NdJ("click",function(o){const r=t.CHM(i).$implicit;return t.oxw(3).edit(r._id),t.KtG(o.stopPropagation())}),t.qZA()}}function Dt(e,s){if(1&e&&(t.TgZ(0,"cdk-virtual-scroll-viewport",25)(1,"table",26),t.ynx(2,27),t.YNc(3,ct,4,3,"mat-cell",28),t.YNc(4,mt,7,8,"mat-cell",29),t.BQk(),t.ynx(5,30),t.YNc(6,ut,4,3,"mat-cell",28),t.YNc(7,_t,2,1,"mat-cell",31),t.BQk(),t.ynx(8,32),t.YNc(9,pt,4,3,"mat-cell",28),t.YNc(10,dt,2,1,"mat-cell",31),t.BQk(),t.ynx(11,33),t.YNc(12,ht,4,3,"mat-cell",28),t.YNc(13,Tt,6,4,"mat-cell",31),t.BQk(),t.ynx(14,34),t.YNc(15,Ct,4,3,"mat-cell",28),t.YNc(16,Zt,2,1,"mat-cell",31),t.BQk(),t.ynx(17,35),t.YNc(18,xt,1,0,"mat-cell",36),t.YNc(19,St,13,9,"mat-cell",31),t.BQk(),t.ynx(20,37),t.YNc(21,At,1,0,"mat-cell",36),t.YNc(22,bt,7,1,"mat-cell",31),t.BQk(),t.YNc(23,yt,1,0,"mat-header-row",38),t.YNc(24,Yt,1,0,"mat-row",39),t.qZA()()),2&e){const i=t.oxw(2);t.xp6(1),t.Q6J("hidden",i.isLoading||!i.tasks||!i.tasks.length)("dataSource",i.tasksDataSource),t.xp6(22),t.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns)}}function wt(e,s){if(1&e&&(t.TgZ(0,"div",23),t.YNc(1,Dt,25,5,"cdk-virtual-scroll-viewport",24),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.tasks&&i.tasks.length>0)}}const Ut=[{path:"",component:(()=>{class e{constructor(i,a,o,l,r,m,g,v){this.changeDetector=i,this.taskService=a,this.utilService=o,this.router=l,this.snackBar=r,this.media=m,this.titleService=g,this.translateService=v,this.lgColumns=["date","title","description","status","category","actions"],this.mdColumns=["date","title","description","status","actions"],this.smColumns=["date","title","status","actions-mobile"],this.xsColumns=["date","title","status","actions-mobile"],this.displayedColumns=this.lgColumns,this.title="Tasks",this.search="",this.searchedTasks=[],this.isLoading=!0,this.isSearching=!1,this.tasksDataSource=new Z.kL,this.tasks=[],this.status=f,this.pageSize=5,this.pageCount=1,this.pageSizeOptions=[5,10,20]}ngOnInit(){this.translateService.get("title.tasks").subscribe(i=>this.titleService.setTitle(`${i} \u2014 Mean Stack Template`)),this.verifyResolution(),this.refresh(),this.taskService.emitTask.subscribe(()=>this.refresh())}refresh(){this.taskService.listTasksByUser(this.pageSize).subscribe(i=>{this.tasks=i.data,this.pageCount=i.count,this.tasksDataSource=this.utilService.setDataSource(this.tasks,this.sort,this.paginator),this.isLoading=!1,this.changeDetector.markForCheck()})}verifyResolution(){this.media.asObservable().subscribe(i=>{this.displayedColumns="xs"===i[0].mqAlias?this.xsColumns:"sm"===i[0].mqAlias?this.smColumns:"md"===i[0].mqAlias?this.mdColumns:this.lgColumns,this.changeDetector.detectChanges()})}add(){this.router.navigate([`${this.router.url.split(/\/(add|edit)\/?/gi)[0]}/add`])}edit(i){this.router.navigate([`${this.router.url.split(/\/(add|edit)\/?/gi)[0]}/edit`,i])}changeStatus(i,a){i.status=a,this.taskService.updateTask(i).subscribe({next:()=>{this.translateService.get("task-list.status-change").subscribe(o=>this.snackBar.open(o,void 0,{duration:5e3})),this.taskService.emitTask.emit(),this.changeDetector.markForCheck()},error:()=>this.translateService.get("task-list.status-change-error").subscribe(o=>this.snackBar.open(o,void 0,{duration:8e3}))})}delete(i){this.taskService.deleteTask(i._id).subscribe({next:()=>{this.translateService.get("task-list.remove-success").subscribe(a=>this.snackBar.open(a,void 0,{duration:5e3})),this.taskService.emitTask.emit(),this.changeDetector.markForCheck()},error:()=>this.translateService.get("task-list.remove-error").subscribe(a=>this.snackBar.open(a,void 0,{duration:8e3}))})}filterTasks(i){if(""===i)this.searchInput.nativeElement.value="",this.isSearching=!1,this.refresh();else{const a=i.trim().toLowerCase();this.taskService.listTasksByUser(this.pageSize,a).subscribe(o=>{this.tasks=o.data,this.pageCount=o.count,this.tasksDataSource=this.utilService.setDataSource(this.tasks),this.isLoading=!1,this.changeDetector.markForCheck()})}}onPaginateChange(i){var a;const o=i.pageIndex,l=null!==(a=this.searchInput.nativeElement.value)&&void 0!==a?a:null;this.pageSize=i.pageSize,this.taskService.listTasksByUser(this.pageSize,l,o).subscribe(r=>{this.tasks=r.data,this.pageCount=r.count,this.tasksDataSource=this.utilService.setDataSource(this.tasks),this.isLoading=!1,this.changeDetector.markForCheck()})}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(t.sBO),t.Y36(D.M),t.Y36(U.f),t.Y36(d.F0),t.Y36(w.ux),t.Y36(tt.u0),t.Y36(L.Dx),t.Y36(p.sK))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-task-list"]],viewQuery:function(i,a){if(1&i&&(t.Gf(y.YE,5),t.Gf(B.NW,5),t.Gf(ot,5)),2&i){let o;t.iGM(o=t.CRH())&&(a.sort=o.first),t.iGM(o=t.CRH())&&(a.paginator=o.first),t.iGM(o=t.CRH())&&(a.searchInput=o.first)}},decls:29,vars:20,consts:[[1,"page-container"],["fxLayoutAlign","center center",1,"list"],[1,"list__wrapper","mat-elevation-z1"],["class","loader","fxLayoutAlign","center center",4,"ngIf"],[1,"list__header"],[1,"list__header-title"],[1,"header-title"],["color","primary","mat-fab","",1,"list__header-button",3,"click"],[3,"matTooltip"],[1,"list__header-search"],["matInput","",3,"placeholder","value","keyup.enter"],["searchInput",""],["mat-icon-button",""],[3,"matTooltip","click"],[1,"list__body"],["class","list__body--empty","fxLayout","column","fxLayoutAlign","center center",4,"ngIf"],["class","table",4,"ngIf"],[3,"hidden"],["showFirstLastButtons","",3,"length","pageSizeOptions","page"],["fxLayoutAlign","center center",1,"loader"],["mode","indeterminate","color","primary"],["fxLayout","column","fxLayoutAlign","center center",1,"list__body--empty"],[1,"icon","icon--big"],[1,"table"],["class","list__body-table","tvsItemSize","20",4,"ngIf"],["tvsItemSize","20",1,"list__body-table"],["mat-table","","matSort","",3,"hidden","dataSource"],["matColumnDef","date"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","column-name","mat-cell","",4,"matCellDef"],["matColumnDef","title"],["mat-cell","",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","status"],["matColumnDef","category"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","actions-mobile"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],[1,"list__body-title"],["mat-cell","",1,"column-name"],["mat-cell",""],[3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],["mat-header-cell",""],["mat-icon-button","",1,"list__body-actions",3,"matTooltip","click"],["mat-icon-button","",3,"matMenuTriggerFor","click"],["menu","matMenu"],["matMenuContent",""],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row","",3,"click"]],template:function(i,a){if(1&i){const o=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t.YNc(3,nt,2,0,"div",3),t.TgZ(4,"div",4)(5,"div",5)(6,"span",6),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"button",7),t.NdJ("click",function(){return a.add()}),t.TgZ(10,"mat-icon",8),t.ALo(11,"translate"),t._uU(12,"add"),t.qZA()()(),t.TgZ(13,"div",9)(14,"mat-form-field")(15,"input",10,11),t.NdJ("keyup.enter",function(){t.CHM(o);const r=t.MAs(16);return t.KtG(a.filterTasks(r.value))}),t.ALo(17,"translate"),t.qZA()(),t.TgZ(18,"button",12)(19,"mat-icon",13),t.NdJ("click",function(){t.CHM(o);const r=t.MAs(16);return t.KtG(a.filterTasks(r.value))}),t.ALo(20,"translate"),t._uU(21,"done"),t.qZA()()()(),t.TgZ(22,"div",14),t.YNc(23,rt,7,3,"div",15),t.YNc(24,lt,7,3,"div",15),t.YNc(25,wt,2,1,"div",16),t.TgZ(26,"div",17)(27,"mat-paginator",18),t.NdJ("page",function(r){return a.onPaginateChange(r)}),t.qZA()()()()()(),t._UZ(28,"router-outlet")}2&i&&(t.xp6(3),t.Q6J("ngIf",a.isLoading),t.xp6(4),t.Oqu(t.lcZ(8,12,"title.tasks")),t.xp6(3),t.s9C("matTooltip",t.lcZ(11,14,"task-list.title-tooltip")),t.xp6(5),t.MGl("placeholder","",t.lcZ(17,16,"task-list.search"),"..."),t.Q6J("value",a.search),t.xp6(4),t.s9C("matTooltip",t.lcZ(20,18,"task-list.search")),t.xp6(4),t.Q6J("ngIf",!a.isLoading&&0===(null==a.tasks?null:a.tasks.length)),t.xp6(1),t.Q6J("ngIf",!a.isLoading&&a.searchedTasks&&a.searchedTasks.length>0),t.xp6(1),t.Q6J("ngIf",!a.isLoading&&a.tasks&&!!a.tasks.length&&0===(null==a.searchedTasks?null:a.searchedTasks.length)),t.xp6(1),t.Q6J("hidden",a.isLoading||a.tasks&&0===a.tasks.length),t.xp6(1),t.Q6J("length",a.pageCount)("pageSizeOptions",a.pageSizeOptions))},dependencies:[d.lC,u.O5,u.RF,u.n9,u.ED,M.xw,M.Wh,N.lW,h.KE,F.Hw,J.Nt,k.VK,k.OP,k.p6,k.KA,B.NW,et.Ou,y.YE,y.nU,_.BZ,_.fO,_.as,_.w1,_.Dz,_.nj,_.ev,_.XQ,_.Gk,it.gM,at.N7,Z.So,p.X$,st],changeDetection:0}),e})(),canActivate:[x.a],children:[{path:"add",component:O,canActivate:[x.a]},{path:"edit/:id",component:O,canActivate:[x.a]}]}];let Nt=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.Bz.forChild(Ut),d.Bz]}),e})(),Ft=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[Nt,u.ez,c.u5,c.UX,I.o9,Q.h,Z.oJ,p.aw]}),e})()}}]);